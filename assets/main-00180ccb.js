(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(r){if(r.ep)return;r.ep=!0;const c=i(r);fetch(r.href,c)}})();let a=[{id:0,name:"肥宅心碎賞櫻3日",imgUrl:"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80",area:"高雄",description:"賞櫻花最佳去處。肥宅不得不去的超讚景點！",group:87,price:1400,rate:10},{id:1,name:"貓空纜車雙程票",imgUrl:"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台北",description:"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感",group:99,price:240,rate:2},{id:2,name:"台中谷關溫泉會1日",imgUrl:"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台中",description:"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。",group:20,price:1765,rate:7},{id:3,name:"綠島自由行套裝行程",imgUrl:"https://github.com/hexschool/2022-web-layout-training/blob/main/js_week5/travel_1.png?raw=true",area:"台北",description:"嚴選超高CP值綠島自由行套裝行程，多種綠島套裝組合，提供台東綠島來回船票、綠島環島機車、綠島民宿住宿，行程加贈『綠島浮潛體驗』以及『綠島生態導覽』，讓你用輕鬆的綠島套裝自由行，也能深度認識綠島在地文化。",group:8,price:1280,rate:8.6},{id:4,name:"清境高空觀景步道二日遊",imgUrl:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/refs/heads/main/js_week5/travel_4.png",area:"台北",description:"清境農場青青草原數十公頃碧草，餵食著數以百計的綿羊和牛群，中央山脈最高的北三段群峰形成一堵如帶的高牆，攔住清晨的薄霧山嵐，成就了從花蓮翻山而來的雲瀑在濁水溪谷積成雲海，這些景觀豐沛了清境觀景步道的風格，也涵養它無可取代的特色。",group:12,price:2580,rate:8.2},{id:5,name:"南庄度假村露營車二日遊",imgUrl:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/refs/heads/main/js_week5/travel_6.png",area:"台中",description:"南庄雲水豪華露營車，快來擁有最愜意的露營體驗吧！ 一泊一食，輕鬆享受露營車樂趣。 獨立衛浴與私人戶外露臺。 入住豪華露營車還能使用戶外SPA大眾湯，感受美人湯魅力。",group:2,price:2480,rate:9.2}];const q=document.querySelector("#ticketAddForm"),D=document.querySelector("#ticketName"),S=document.querySelector("#ticketImgUrl"),E=document.querySelector("#ticketRegion"),k=document.querySelector("#ticketPrice"),b=document.querySelector("#ticketSetNum"),w=document.querySelector("#ticketRank"),H=document.querySelector("#ticketDescription"),M=document.querySelector("#addTicket"),n=document.querySelector("#filterRegion"),x=document.querySelector("#filterNums"),v=document.querySelector(".cantFind-area"),L=e=>{const t=document.querySelector("#ticketDisplay");t.innerHTML="",e.forEach(i=>{const l=document.createElement("li");l.className="col-12 col-sm-6 col-lg-4";const r=document.createElement("div");r.className="roundImgCard";const c=document.createElement("a");c.href="#",c.className="ticket-link";const s=document.createElement("img");s.src=i.imgUrl;const m=document.createElement("p");m.className="card-badge badge-primary-100",m.textContent=i.area;const d=document.createElement("div");d.className="card-body";const p=document.createElement("p");p.className="card-badge-sm badge-primary",p.textContent=i.rate;const f=document.createElement("h3");f.className="card-title",f.textContent=i.name;const h=document.createElement("p");h.textContent=i.description;const u=document.createElement("div");u.className="card-info";const y=document.createElement("p"),C='<i class="bi bi-exclamation-circle-fill"></i>限時搶購',N=`<i class="bi bi-exclamation-circle-fill"></i>剩下最後 ${i.group} 組`;y.innerHTML=i.group==0?C:N;const g=document.createElement("p");g.className="infoPrice",g.innerHTML=`TWD<span class="highlight">$${i.price}</span>`,u.appendChild(y),u.appendChild(g),d.appendChild(p),d.appendChild(f),d.appendChild(h),d.appendChild(u),c.appendChild(s),r.appendChild(c),r.appendChild(m),r.appendChild(d),l.appendChild(r),t.appendChild(l)})},o=e=>{let t=e.length;t!==0?(x.textContent=`本次搜尋共 ${t} 筆資料`,v.style.display="none",ticketDisplay.style.display="flex",L(e)):(x.textContent="查無此關鍵字資料",ticketDisplay.style.display="none",v.style.display="block")};M.addEventListener("click",()=>{let e=new Object,t="";if(e.id=a.length,e.name=D.value.trim(),e.imgUrl=S.value.trim(),e.area=E.value.trim(),e.description=H.value.trim(),e.group=b.value.trim(),e.price=k.value.trim(),e.rate=w.value.trim(),e.name?e.imgUrl?e.area?e.price<=0?(t="套票金額必須大於 0!",k.value=""):e.group<0?(t="套票組數必須大於等於0!",b.value=""):e.rate<1||e.rate>10?(t="套票星級必須在 1 至 10 之間!",w.value=""):(e.description>100||!e.description)&&(t="套票描述必填，且不能超過 100 字!"):t="請選擇地區!":t="圖片網址為必填!":t="套票名稱為必填!",t){window.alert(t);return}else window.alert("新增成功");a.push(e),q.reset(),n.value="",o(a)});n.addEventListener("change",()=>{let e=new Array,t=["台北","台中","高雄","花蓮"];n.value?n.value===t[0]?(e=a.filter(i=>i.area===t[0]),o(e)):n.value===t[1]?(e=a.filter(i=>i.area===t[1]),o(e)):n.value===t[2]?(e=a.filter(i=>i.area===t[2]),o(e)):n.value===t[3]&&(e=a.filter(i=>i.area===t[3]),o(e)):o(a)});o(a);
